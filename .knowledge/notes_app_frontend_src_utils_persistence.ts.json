{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for persisting note data, including loading and saving notes to local storage or an in-memory fallback, as well as a logging mechanism controlled by environment variables.", "external_files": ["vue", "@_types/note"], "external_methods": ["console.error", "console.warn", "console.info", "console.debug"], "published": ["log", "loadNotes", "saveNotes"], "classes": [], "methods": [{"name": "function currentLevel(): LogLevel { currentLevel", "description": "Determines the current logging level based on environment variable.", "scope": "", "scopeKind": ""}, {"name": "function shouldLog(level: LogLevel) { shouldLog", "description": "Checks if a message of a certain LogLevel should be logged based on current log level.", "scope": "", "scopeKind": ""}, {"name": "export function loadNotes(): Note[] { loadNotes", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export function log(level: LogLevel, message: string, ...args: unknown[]) { log", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export function saveNotes(notes: Note[]) { saveNotes", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["shouldLog", "console.error", "console.warn", "console.info", "console.debug", "JSON.parse", "JSON.stringify"], "search-terms": ["localStorage", "Note persistence", "logging levels", "storage fallback", "environment variable", "TypeScript utility functions"], "state": 2, "file_id": 20, "knowledge_revision": 52, "git_revision": "", "revision_history": [{"43": ""}, {"52": ""}], "ctags": [{"_type": "tag", "name": "LogLevel", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^type LogLevel = 'silent' | 'error' | 'warn' | 'info' | 'debug'$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^const STORAGE_KEY = 'notes_app_v1'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "currentLevel", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^  return order[level] >= order[currentLevel()]$/", "language": "TypeScript", "kind": "constant", "scope": "shouldLog", "scopeKind": "function"}, {"_type": "tag", "name": "currentLevel", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^function currentLevel(): LogLevel {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "level", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^  return order[level] >= order[currentLevel()]$/", "language": "TypeScript", "kind": "constant", "scope": "shouldLog", "scopeKind": "function"}, {"_type": "tag", "name": "loadNotes", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^export function loadNotes(): Note[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "log", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^export function log(level: LogLevel, message: string, ...args: unknown[]) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "lvl", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^  const lvl = (import.meta.env.VITE_LOG_LEVEL as string | undefined)?.toLowerCase() || 'info'$/", "language": "TypeScript", "kind": "constant", "scope": "currentLevel", "scopeKind": "function"}, {"_type": "tag", "name": "memoryFallback", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^let memoryFallback: Note[] | null = null$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^  const order: Record<LogLevel, number> = {$/", "language": "TypeScript", "kind": "constant", "scope": "shouldLog", "scopeKind": "function"}, {"_type": "tag", "name": "order", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^  return order[level] >= order[currentLevel()]$/", "language": "TypeScript", "kind": "constant", "scope": "shouldLog", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^    const parsed = JSON.parse(raw) as Note[]$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "prefix", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^  const prefix = '[NotesApp]'$/", "language": "TypeScript", "kind": "constant", "scope": "log", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^    const raw = window.localStorage.getItem(STORAGE_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "loadNotes", "scopeKind": "function"}, {"_type": "tag", "name": "return", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^  return order[level] >= order[currentLevel()]$/", "language": "TypeScript", "kind": "constant", "scope": "shouldLog", "scopeKind": "function"}, {"_type": "tag", "name": "saveNotes", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^export function saveNotes(notes: Note[]) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "shouldLog", "path": "/home/kavia/workspace/code-generation/vue-notes-manager-40830-40839/notes_app_frontend/src/utils/persistence.ts", "pattern": "/^function shouldLog(level: LogLevel) {$/", "language": "TypeScript", "kind": "function"}], "hash": "1eaffcb30c843e38c567c6515795fc48", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/src/utils/persistence.ts", "fields": [{"name": "let memoryFallback: Note[] | null = null", "scope": "", "scopeKind": "", "description": "unavailable"}]}